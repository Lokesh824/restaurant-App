(this["webpackJsonprestaurant-paypal-test"]=this["webpackJsonprestaurant-paypal-test"]||[]).push([[0],{18:function(e,a,t){e.exports=t(28)},23:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(15),l=t.n(s),i=(t(23),t(3)),c=t(4),o=t(6),u=t(5),m=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("h1",{className:"heading"},"  Restaurants")}}]),t}(r.Component),d=t(16),f=t(7),p=t(1),v=t(2),h=t.n(v),g=t(12),b=t(17),E=t.n(b),y=function(e){var a,t=e.res,r=e.currency,s=["asian","seafood","american","fastfood","brazilian","dessert","tea"];return n.a.createElement("li",{className:"card-item"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"card-img"},n.a.createElement("img",{src:"/assets".concat(function(e){if(!e)return"/default.jpg";var a=e.toLowerCase();if(e.includes(",")){var t=s.find((function(e){return a.includes(e)}));return t?"/".concat(t,".jpg"):"/default.jpg"}return s.includes(a)?"/".concat(a,".jpg"):"/default.jpg"}(t.cuisines)),alt:"card"+t.cuisines})),n.a.createElement("div",{className:"card-details"},n.a.createElement("h3",{className:"card-heading"},t.restaurantName),n.a.createElement("div",{className:"shineBox"},n.a.createElement("span",null,t.aggregateRating)),n.a.createElement("div",{className:"cuisines"},t.cuisines),n.a.createElement("div",{className:"fx-b100 d-flex"},n.a.createElement("div",{className:"fx-b50"},n.a.createElement("div",{className:"average-cost"},"Cost for Two",n.a.createElement("span",{className:"ml-10"},t.averageCostForTwo,"  "),n.a.createElement("span",null,function(e){var a=Object.keys(r).find((function(a){return e.toLowerCase().includes(a.toLowerCase().split("_").join(" "))}));return a?r[a]:"$"}(t.currency)))),n.a.createElement("div",{className:"fx-b50 availabitity-icons"},n.a.createElement("a",{title:"Table Available"}," ",n.a.createElement("i",{className:"fa fa-utensils",style:{color:"Yes"===t.hasTableBooking?"green":"red"}})),n.a.createElement("a",{title:"Delivery Available"},n.a.createElement("i",{className:"fa fa-motorcycle",style:{color:"Yes"===t.hasOnlineDelivery?"green":"red"}})))),n.a.createElement("div",{className:"fx-b100 d-flex"},n.a.createElement("div",{className:"fx-b50"},"Review:  ",n.a.createElement("span",{className:"ml-10",style:{color:(a=t.ratingColor,a.includes(" ")?"blue":a.toLowerCase().includes("white")?"black":a.toLowerCase())}},t.ratingText)),n.a.createElement("div",{className:"fx-b50",style:{textAlign:"end"}},"Votes:",n.a.createElement("div",{className:"shineBox ml-10 fx-b100"},n.a.createElement("span",null,t.votes)))))))},C=t(9),N=t(13),w={position:"absolute",width:"100%",height:42,transform:"translate(0%, -50%)",borderRadius:7,cursor:"pointer"},k={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"rgb(155,155,155)"};function x(e){var a=e.getRailProps;return n.a.createElement(r.Fragment,null,n.a.createElement("div",Object.assign({style:w},a())),n.a.createElement("div",{style:k}))}function O(e){var a=Object(N.a)(e.domain,2),t=a[0],s=a[1],l=e.handle,i=l.id,c=l.value,o=l.percent,u=e.disabled,m=e.getHandleProps;return n.a.createElement(r.Fragment,null,n.a.createElement("div",Object.assign({style:{left:"".concat(o,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:5,width:28,height:42,cursor:"pointer",backgroundColor:"none"}},m(i))),n.a.createElement("div",{role:"slider","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":c,style:{left:"".concat(o,"%"),position:"absolute",transform:"translate(-50%, -50%)",zIndex:2,width:24,height:24,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.3)",backgroundColor:u?"#666":"#000000"}}))}function j(e){var a=e.source,t=e.target,r=e.getTrackProps,s=e.disabled;return n.a.createElement("div",Object.assign({style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:s?"#999":"#f5f5f5",borderRadius:7,cursor:"pointer",left:"".concat(a.percent,"%"),width:"".concat(t.percent-a.percent,"%")}},r()))}function L(e){var a=e.tick,t=e.count,r=e.format;return n.a.createElement("div",null,n.a.createElement("div",{style:{position:"absolute",marginTop:14,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(a.percent,"%")}}),n.a.createElement("div",{style:{position:"absolute",marginTop:22,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/t/2,"%"),width:"".concat(100/t,"%"),left:"".concat(a.percent,"%")}},r(a.value)))}O.defaultProps={disabled:!1},j.defaultProps={disabled:!1},L.defaultProps={format:function(e){return e}};var S,T,V={position:"relative",width:"90%",paddingTop:"15px"},D=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).onUpdate=function(a){clearTimeout(S),S=setTimeout((function(){console.log(a),e.props.setLoader(),e.props.sliderChange(a[0],a[1])}),1e3)},e.onChange=function(){},e.state={domain:[0,1e3]},e}return Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e,a){e.domain&&e.domain!==this.props.domain&&this.setState({domain:[e.domain.minVal,e.domain.maxVal]})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(C.c,{mode:2,step:10,domain:this.state.domain,rootStyle:V,onUpdate:this.onUpdate,onChange:this.onChange,values:this.state.domain,disabled:this.props.disabled},n.a.createElement(C.b,null,(function(e){var a=e.getRailProps;return n.a.createElement(x,{getRailProps:a})})),n.a.createElement(C.a,null,(function(a){var t=a.handles,r=a.getHandleProps;return n.a.createElement("div",{className:""},t.map((function(a){return n.a.createElement(O,{key:a.id,handle:a,domain:e.state.domain,getHandleProps:r,disabled:e.props.disabled})})))})),n.a.createElement(C.e,{left:!1,right:!1},(function(a){var t=a.tracks,r=a.getTrackProps;return n.a.createElement("div",{className:"slider-tracks"},t.map((function(a){var t=a.id,s=a.source,l=a.target;return n.a.createElement(j,{key:t,source:s,target:l,getTrackProps:r,disabled:e.props.disabled})})))})),n.a.createElement(C.d,{count:5,disabled:this.props.disabled},(function(e){var a=e.ticks;return n.a.createElement("div",{className:"slider-ticks"},a.map((function(e){return n.a.createElement(L,{key:e.id,tick:e,count:a.length})})))}))))}}]),t}(r.Component),F=function(e){Object(o.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).fetchCurrency=Object(g.a)(h.a.mark((function a(){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://restcountries.eu/rest/v2/all?fields=currencies").then((function(e){return e.json()})).catch((function(e){return e}));case 2:(t=a.sent).error||e.setState({currencyData:t});case 4:case"end":return a.stop()}}),a)}))),e.fetchCsv=function(){return fetch("/restaurantsList.csv").then((function(e){var a=e.body.getReader(),t=new TextDecoder("utf-8");return a.read().then((function(e){return t.decode(e.value)}))}))},e.readCSV=Object(g.a)(h.a.mark((function a(){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.fetchCsv();case 2:t=a.sent,E.a.parse(t,{complete:e.processData});case 4:case"end":return a.stop()}}),a)}))),e.processData=function(a){for(var t=[],r=a.data,n=[],s={},l={},i=e.state.currencyData,c=r[0].map((function(e){return e.includes(" ")?e.split(" ").reduce((function(e,a,t){var r=a.substr(0,1).toUpperCase()+a.substr(1).toLowerCase();return 1===t?e.toLowerCase()+r:e+r})):e.toLowerCase()})),o=function(e){var a={};r[e].length>1&&(r[e].map((function(t,o){if(a=Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},c[o],t)),"cuisines"===c[o])if(t.includes(",")){t.split(",").map((function(e){var a=e.trim();n.includes(a)||n.push(a)}))}else{var u=t.trim();!n.includes(u)&&u.length>1&&n.push(u)}if("currency"===c[o]&&i.length>0){var m=t.split("(")[0].trim().toLowerCase().split(" ").join("_");if(!Object.keys(s).includes(m)){var v,h=Object(d.a)(i);try{for(h.s();!(v=h.n()).done;){var g=v.value;if(g.currencies[0].name.trim().toLowerCase().includes(m.split("_").join(" "))){s=Object(p.a)(Object(p.a)({},s),{},Object(f.a)({},m,g.currencies[0].symbol));break}}}catch(E){h.e(E)}finally{h.f()}}if(Object.keys(l).includes(m))l[m].minVal=Math.min(r[e][o-1],l[m].minVal),l[m].maxVal=Math.max(r[e][o-1],l[m].maxVal);else{var b={minVal:r[e][o-1],maxVal:r[e][o-1]};l=Object(p.a)(Object(p.a)({},l),{},Object(f.a)({},m,b))}}})),t.push(a))},u=1;u<r.length;u++)o(u);e.setState({data:t,filterData:t,cuisines:n,loader:!1,currency:s,averageCost:l})},e.filterOnSearch=function(){var a=JSON.parse(JSON.stringify(e.state.filterData)),t=e.state.filters;t.search&&(a=a.filter((function(e){return JSON.stringify(e).toLowerCase().includes(t.search.toLowerCase())}))),e.setState({filterData:a,loader:!1})},e.setLoader=function(){e.setState({loader:!0})},e.sliderChange=function(){var a=Object(g.a)(h.a.mark((function a(t,r){var n,s,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.onChangeHandler({target:{name:"averageCost",id:"averageCost",value:{}}}).then((function(e){return e}));case 2:n=a.sent,s=e.state.filters.currency.toLowerCase().split("_").join(" "),l=JSON.parse(JSON.stringify(e.state.filters)),n=n.filter((function(e){return e.currency.trim().toLowerCase().split("(")[0].includes(s)&&e.averageCostForTwo>=t&&e.averageCostForTwo<=r})),l.averageCost.minVal=t,l.averageCost.maxVal=r,e.setState({filterData:n,loader:!1,filters:l});case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),e.onChangeHandler=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:{id:"",name:""}},t=JSON.parse(JSON.stringify(e.state.filters)),r=JSON.parse(JSON.stringify(e.state.data));if(t[a.target.name]=a.target.value,e.setState({loader:!0}),("search"===a.target.id||e.state.filters.search)&&(clearTimeout(T),T=setTimeout(e.filterOnSearch,800)),("cuisines"===a.target.id&&"all"!==t.cuisines||"all"!==t.cuisines)&&(r=r.filter((function(e){return e.cuisines.toLowerCase().includes(t.cuisines.toLowerCase())}))),("currency"===a.target.name&&"all"!==t.currency||"all"!==t.currency)&&("currency"===a.target.name&&(t.averageCost=e.state.averageCost[t.currency]),r=r.filter((function(e){return e.currency.toLowerCase().includes(t.currency.toLowerCase().split("_").join(" "))}))),("rating"===a.target.name&&"all"!==t.rating||"all"!==t.rating)&&(r=r.filter((function(e){return e.aggregateRating>=t.rating}))),"averageCost"!==a.target.name&&"all"!==t.currency&&e.state.averageCost[t.currency]!==t.averageCost){var n=e.state.filters.averageCost;r=r.filter((function(e){return e.currency.trim().toLowerCase().includes(t.currency.toLowerCase().split("_").join(" "))&&e.averageCostForTwo>=n.minVal&&e.averageCostForTwo<=n.maxVal}))}return new Promise((function(n,s){e.setState({filters:t,filterData:r,loader:t.search.length>0||"averageCost"===a.target.name,sliderValue:"all"===t.currency},(function(){n(e.state.filterData)}))}))},e.viewList=function(a){var t,r=a.target.parentNode,n=a.target;if(r.classList.value.includes("filter"))r.childNodes[1].classList.toggle("displayList");else if(n.hasAttribute("data-value")){var s=JSON.parse(JSON.stringify(e.state.filters)),l=n.getAttribute("data-value");r.parentNode.childNodes[0].childNodes[0].textContent=l,r.parentNode.childNodes[1].classList.remove("displayList"),s[t=r.parentElement.parentElement.getAttribute("id")]=l,e.setState({filters:s},(function(){e.onChangeHandler({target:{name:t,id:t,value:l}})}))}},e.state={loader:!0,data:[],filterData:[],cuisines:[],filters:{search:"",cuisines:"all",rating:"all",currency:"all",averageCost:{minVal:0,maxVal:400}},currency:{},currencyData:[],averageCost:{},sliderValue:!0},e.rating=[1,2,3,4],e}return Object(c.a)(t,[{key:"componentWillMount",value:function(){this.fetchCurrency(),this.readCSV()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"searchBox"},n.a.createElement("input",{type:"text",name:"search",placeholder:" ",value:this.state.filters.search,onChange:this.onChangeHandler,id:"search"}),n.a.createElement("label",{className:"placeholder-label",htmlFor:"search"},"Search a restaurant")),n.a.createElement("h3",{className:"filter-heading"},"Filter By: "),n.a.createElement("div",{className:"filter-div"},n.a.createElement("div",{className:"filter-wrapper",id:"cuisines"},n.a.createElement("label",{htmlFor:"cuisines"},"Cuisines"),n.a.createElement("div",{className:"filter",onClick:this.viewList},n.a.createElement("div",{className:"filter-value-wrapper"},n.a.createElement("span",{className:"filter-value"},"All"),n.a.createElement("span",{className:"filter-icon"},n.a.createElement("i",{className:"fa fa-chevron-down"}))),n.a.createElement("ul",{className:"optionList"},n.a.createElement("li",{"data-value":"all"},"All"),this.state.cuisines.map((function(e,a){return n.a.createElement("li",{"data-value":e,key:a},e)}))))),n.a.createElement("div",{className:"filter-wrapper",id:"rating"},n.a.createElement("label",{htmlFor:"rating"},"Rating"),n.a.createElement("div",{className:"filter",onClick:this.viewList},n.a.createElement("div",{className:"filter-value-wrapper"},n.a.createElement("span",{className:"filter-value"},"All"),n.a.createElement("span",{className:"filter-icon"},n.a.createElement("i",{className:"fa fa-chevron-down"})," ")),n.a.createElement("ul",{className:"optionList"},n.a.createElement("li",{"data-value":"all"},"All"),this.rating.map((function(e,a){return n.a.createElement("li",{"data-value":e,key:a},e)}))))),n.a.createElement("div",{className:"filter-wrapper fx-b40"},n.a.createElement("label",{htmlFor:"currency"},"Currency"),n.a.createElement("div",{className:"checkBoxDiv"},n.a.createElement("label",{className:"radioBox"},"None",n.a.createElement("input",{type:"radio",value:"all",onChange:this.onChangeHandler,name:"currency"}),n.a.createElement("span",{className:"checkmark"})),Object.keys(this.state.currency).map((function(a,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("label",{className:"radioBox"},a,n.a.createElement("input",{type:"radio",onChange:e.onChangeHandler,value:a,name:"currency"}),n.a.createElement("span",{className:"checkmark"})))})))),n.a.createElement("div",{className:"filter-wrapper fx-b30"},n.a.createElement("label",{htmlFor:"averageCost"},"Cost For Two"),n.a.createElement(D,{className:"filter",setLoader:this.setLoader,domain:this.state.averageCost[this.state.filters.currency],sliderChange:this.sliderChange,disabled:this.state.sliderValue}))),n.a.createElement("div",{className:"outer"},this.state.loader?n.a.createElement("div",{className:"loader"}," "):this.state.filterData.length?n.a.createElement("ul",{className:"cards"},this.state.filterData.map((function(a,t){return n.a.createElement(y,{key:t,currency:e.state.currency,res:a})}))):n.a.createElement("div",{className:"empty-list"},"Oops !! ",n.a.createElement("span",{className:"ml-10"},"No Restaurants found.")," ")))}}]),t}(r.Component);t(27);var R=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m,null),n.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.8761fb36.chunk.js.map